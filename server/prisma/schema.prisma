generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "sqlite"
  url      = "file:./leedz_invoicer.sqlite"
}

model Client {
  id          String    @id @default(cuid())
  name        String
  email       String?   @unique
  phone       String?
  company     String?
  clientNotes String?
  createdAt   DateTime  @default(now())
  updatedAt   DateTime  @updatedAt
  bookings    Booking[]
}

model Booking {
  id          String    @id @default(cuid())
  clientId    String
  title       String?
  description String?
  notes       String?
  location    String?
  startDate   DateTime?
  endDate     DateTime?
  startTime   String?
  endTime     String?
  duration    Float?
  hourlyRate  Float?
  flatRate    Float?
  totalAmount Float?
  status      String    @default("new")
  source      String?
  createdAt   DateTime  @default(now())
  updatedAt   DateTime  @updatedAt
  client      Client     @relation(fields: [clientId], references: [id])
}

model Config {
  id                String   @id @default(cuid())
  companyName       String?
  companyAddress    String?
  companyPhone      String?
  companyEmail      String?
  logoUrl           String?
  bankName          String?
  bankAddress       String?
  bankPhone         String?
  bankAccount       String?
  bankRouting       String?
  bankWire          String?
  servicesPerformed String?
  contactHandle     String?
  includeTerms      Boolean?
  terms             String?
  mcp_host          String?  @default("127.0.0.1")
  mcp_port          String?  @default("3001")
  createdAt         DateTime @default(now())
  updatedAt         DateTime @updatedAt
}
