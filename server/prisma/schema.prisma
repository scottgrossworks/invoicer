// prisma/schema.prisma

datasource db {
  provider = "sqlite"
  url      = "file:./leedz_invoicer.sqlite"
}

generator client {
  provider = "prisma-client-js"
}

model Client {
  id            String    @id @default(cuid())
  name          String
  email         String?   @unique
  phone         String?
  company       String?
  clientNotes   String?
  createdAt     DateTime  @default(now())
  updatedAt     DateTime  @updatedAt
  bookings      Booking[]
}

model Booking {
  id            String    @id @default(cuid())
  clientId      String
  client        Client    @relation(fields: [clientId], references: [id])

  title         String?
  description   String?
  notes         String?
   
  location      String?
  startDate     DateTime?
  endDate       DateTime?
  startTime     String?
  endTime       String?
  duration      Float?    // hours
  hourlyRate    Float?
  flatRate      Float?
  totalAmount   Float?
  status        String    @default("new") 
  source        String?   // original source (gmail, linkedin, etc)

  createdAt     DateTime  @default(now())
  updatedAt     DateTime  @updatedAt
}

model Config {
  id                String    @id @default(cuid())
  
  // PDF Settings fields from invoicer_config.json
  companyName       String?
  companyAddress    String?
  companyPhone      String?
  companyEmail      String?
  logoUrl           String?
  bankName          String?
  bankAddress       String?
  bankPhone         String?
  bankAccount       String?
  bankRouting       String?
  bankWire          String?
  servicesPerformed String?
  contactHandle     String?
  includeTerms      Boolean?
  terms             String?

  createdAt         DateTime  @default(now())
  updatedAt         DateTime  @updatedAt
}